---
description: Add the prpl features
feeds:
  - name: feed_prpl
    uri: https://gitlab.com/prpl-foundation/prplOS/feed-prpl.git
    tracking_branch: prplos
    revision: c1e79407b9feb27dc24fd184879594f997d4678f

additional_packages:
  - feed: packages
    packages:
      - chrony
      - libnl-core
      - libnl-route
      - lighttpd
      - lighttpd-mod-auth
      - lighttpd-mod-authn_file
      - lighttpd-mod-fastcgi
      - syslog-ng2

packages:
  - acl-manager
  - amx-cli
  - cthulhu
  - cthulhu-dhcpc
  - cthulhu-lxc
  - cthulhu-networking
  - debug-information
  - deviceinfo-manager
  - dhcpv4-manager
  - dhcpv6s-manager
  - ethernet-manager
  - gmap-client
  - gmap-mod-ethernet-dev
  - gmap-mod-name-selector
  - gmap-mod-self
  - gmap-server
  - hosts-manager
  - ip-manager
  - ip6tables-zz-legacy
  - iptables-mod-ipopt
  - iptables-zz-legacy
  - libdhcpoptions
  - libfwinterface
  - libfwrules
  - libnetmodel
  - lua-amx
  - lxc
  - lxc-attach
  - lxc-auto
  - lxc-autostart
  - lxc-cgroup
  - lxc-checkconfig
  - lxc-common
  - lxc-config
  - lxc-configs
  - lxc-console
  - lxc-copy
  - lxc-create
  - lxc-destroy
  - lxc-device
  - lxc-execute
  - lxc-freeze
  - lxc-hooks
  - lxc-info
  - lxc-ls
  - lxc-monitor
  - lxc-start
  - lxc-stop
  - lxc-templates
  - lxc-top
  - lxc-unfreeze
  - lxc-unprivileged
  - lxc-unshare
  - lxc-user-nic
  - lxc-usernsexec
  - lxc-wait
  - miniupnpd-prpl
  - mod-amxb-ubus
  - mod-autosensing
  - mod-ba-cli
  - mod-dhcpv4c
  - mod-dmext
  - mod-dmstats
  - mod-dns-unbound
  - mod-fw-amx
  - mod-fw-host
  - mod-httpaccess-lighttpd
  - mod-logical-api
  - mod-lua-amx
  - mod-ppp-daemon
  - mod-qos-tc
  - mod-ra-radvd
  - mod-sahtrace
  - mod-vlan-ioctl
  - mod-xpon-prpl
  - multisettings
  - netdev-plugin
  - netmodel
  - netmodel-bridge
  - netmodel-clients
  - netmodel-dhcpv4
  - netmodel-dhcpv6
  - netmodel-dslite
  - netmodel-ethernet
  - netmodel-ip
  - netmodel-iprouter
  - netmodel-logical
  - netmodel-netdev
  - netmodel-ppp
  - netmodel-radio
  - netmodel-ssid
  - netmodel-vlan
  - netmodel-xpon
  - odl-generator
  - packet-interception
  - pcm-manager
  - procps-ng-pgrep
  - procps-ng-pkill
  - procps-ng-uptime
  - prpl-webui
  - prplmesh
  - rlyeh
  - routing-manager
  - ssh-server
  - tc-tiny
  - time-manager
  - timingila
  - timingila-cthulhu
  - timingila-rlyeh
  - tr069-manager
  - tr181-bridging
  - tr181-device
  - tr181-dhcpv4client
  - tr181-dhcpv6client
  - tr181-dns
  - tr181-dnssd
  - tr181-dslite
  - tr181-dynamicdns
  - tr181-firewall
  - tr181-httpaccess
  - tr181-ipdiagnostics
  - tr181-logical
  - tr181-neighbordiscovery
  - tr181-pcp
  - tr181-ppp
  - tr181-qos
  - tr181-rest-api
  - tr181-routeradvertisement
  - tr181-security
  - tr181-upnp
  - tr181-usermanagement
  - tr181-xpon
  - umdns
  - wan-manager

diffconfig: |
          CONFIG_PACKAGE_ppp-prpl=y
          CONFIG_PACKAGE_unbound-daemon-prpl=y
          # CONFIG_PACKAGE_ppp is not set
          # CONFIG_PACKAGE_miniupnpd is not set
          # CONFIG_PACKAGE_unbound-daemon is not set
          CONFIG_DROPBEAR_ECC=y
          CONFIG_SAH_LUA_AMX_LUA_VERSION_OVERRIDE=y
          CONFIG_SAH_LUA_AMX_LUA_VERSION="5.1"
          CONFIG_PACKAGE_rpcd-mod-luci=y
          CONFIG_PACKAGE_ip-full=y
          CONFIG_PACKAGE_ip-bridge=y
          CONFIG_SYSLOGNG_LOGROTATE=y
          CONFIG_SYSLOGNG_LOGROTATE_MAXSIZE="5M"
          CONFIG_PACKAGE_mod-xpon-prpl-mock=m
          # CONFIG_PACKAGE_firewall4 is not set
          # CONFIG_PACKAGE_logd is not set
          # lxc options for LCM
          CONFIG_SAH_SERVICES_CTHULHU_INIT_CONTAINER_BACKEND=y
          CONFIG_SAH_SERVICES_CTHULHU_CONTAINER_BACKEND="/usr/lib/cthulhu-lxc/cthulhu-lxc.so"
          CONFIG_SAH_SERVICES_TIMINGILA_INIT_ADAPTERS=y
          CONFIG_SAH_SERVICES_TIMINGILA_ADAPTER_PACKAGER="/usr/lib/timingila-rlyeh/timingila-rlyeh.so"
          CONFIG_SAH_SERVICES_TIMINGILA_ADAPTER_CONTAINER="/usr/lib/timingila-cthulhu/timingila-cthulhu.so"
          CONFIG_SAH_LIB_CTHULHU-LXC_LXC_TOOLS_PREFIX="/usr/bin/"
          # CONFIG_SAH_LIB_CTHULHU-LXC_PRPL_OS_RPATH is not set
          # pwhm options
          CONFIG_USE_PRPLMESH_WHM=y
          CONFIG_SAH_WLD_INIT_SCRIPT="prplmesh_whm"
          CONFIG_PRPL_CONTROLLER_ROOT_PATH="X_PRPL-ORG_WiFiController"
          CONFIG_PACKAGE_prplmesh-unit-tests=m
          # kernel options for lcm
          CONFIG_KERNEL_ARM_PMU=y
          CONFIG_KERNEL_BLK_CGROUP=y
          CONFIG_KERNEL_BLK_DEV_THROTTLING=y
          CONFIG_KERNEL_CGROUPS=y
          CONFIG_KERNEL_CGROUP_CPUACCT=y
          CONFIG_KERNEL_CGROUP_DEVICE=y
          CONFIG_KERNEL_CGROUP_FREEZER=y
          CONFIG_KERNEL_CGROUP_PERF=y
          CONFIG_KERNEL_CGROUP_PIDS=y
          CONFIG_KERNEL_CGROUP_SCHED=y
          CONFIG_KERNEL_CPUSETS=y
          CONFIG_KERNEL_DEVPTS_MULTIPLE_INSTANCES=y
          CONFIG_KERNEL_FAIR_GROUP_SCHED=y
          CONFIG_KERNEL_FREEZER=y
          CONFIG_KERNEL_IPC_NS=y
          CONFIG_KERNEL_LXC_MISC=y
          CONFIG_KERNEL_MEMCG=y
          CONFIG_KERNEL_MEMCG_KMEM=y
          CONFIG_KERNEL_MEMCG_SWAP=y
          CONFIG_KERNEL_MEMCG_SWAP_ENABLED=y
          CONFIG_KERNEL_MM_OWNER=y
          CONFIG_KERNEL_NAMESPACES=y
          CONFIG_KERNEL_NETPRIO_CGROUP=y
          CONFIG_KERNEL_NET_CLS_CGROUP=y
          CONFIG_KERNEL_NET_NS=y
          CONFIG_KERNEL_PERF_EVENTS=y
          CONFIG_KERNEL_PID_NS=y
          CONFIG_KERNEL_POSIX_MQUEUE=y
          CONFIG_KERNEL_PROC_PID_CPUSET=y
          CONFIG_KERNEL_RESOURCE_COUNTERS=y
          CONFIG_KERNEL_RT_GROUP_SCHED=y
          CONFIG_KERNEL_SECCOMP=y
          CONFIG_KERNEL_SECCOMP_FILTER=y
          CONFIG_KERNEL_USER_NS=y
          CONFIG_KERNEL_UTS_NS=y
          # prplOS branding
          CONFIG_IMAGEOPT=y
          CONFIG_VERSIONOPT=y
          CONFIG_VERSION_DIST="prplOS"
          CONFIG_VERSION_REPO="https://downloads.openwrt.org/releases/22.03-SNAPSHOT"
          CONFIG_VERSION_HOME_URL="https://prplfoundation.org"
          CONFIG_VERSION_MANUFACTURER="prpl Foundation"
          CONFIG_VERSION_MANUFACTURER_URL="https://prplfoundation.org"
          CONFIG_VERSION_BUG_URL="https://jira.prplfoundation.org"
          CONFIG_VERSION_SUPPORT_URL="https://jira.prplfoundation.org"
          # CONFIG_VERSION_FILENAMES is not set
          # CONFIG_VERSION_CODE_FILENAMES is not set
