targets:

  glinet-b1300-initramfs:
    resources:
      ModbusTCPCoil:
        host: quido.testbed-02.vpn.true.cz
        coil: 7
        managed_coils: 8
        exclusive_coil_mode: True
        write_multiple_coils: True
      RawSerialPort:
        port: "/dev/glinet-b1300"
    drivers:
      ModbusCoilDriver: {}
      DigitalOutputPowerDriver: {}
      SerialDriver: {}
      ShellDriver:
        console_ready: Please press Enter to activate this console.
        prompt: 'root@[\w()]+:[^ ]+ '
        login_prompt: built-in shell (ash)
        await_login_timeout: 15
        username: kingbanik
      UBootDriver:
        prompt: '\(IPQ40xx\) # '
        password: 'gl'
        password_prompt: 'Hit "gl" key to stop booting'
        init_commands:
          - setenv bootdelay 0
          - setenv serverip 192.168.1.2
          - setenv ipaddr 192.168.1.1
        boot_command_delay: 5
        boot_timeout: 90
        boot_command: tftpboot 0x88000000 openwrt-ipq40xx-generic-glinet_gl-b1300-initramfs-fit-zImage.itb && bootm 0x88000000
      UBootStrategy: {}

  glinet-b1300-nor:
    resources:
      ModbusTCPCoil:
        host: quido.testbed-02.vpn.true.cz
        coil: 7
        managed_coils: 8
        exclusive_coil_mode: True
        write_multiple_coils: True
      RawSerialPort:
        port: "/dev/glinet-b1300"
    drivers:
      ModbusCoilDriver: {}
      DigitalOutputPowerDriver: {}
      SerialDriver: {}
      ShellDriver:
        console_ready: Please press Enter to activate this console.
        prompt: 'root@[\w()]+:[^ ]+ '
        login_prompt: built-in shell (ash)
        await_login_timeout: 15
        username: kingbanik
      UBootDriver:
        prompt: '\(IPQ40xx\) # '
        password: 'gl'
        password_prompt: 'Hit "gl" key to stop booting'
        init_commands:
          - setenv bootdelay 0
          - setenv serverip 192.168.1.2
          - setenv ipaddr 192.168.1.1
        boot_command_delay: 5
        boot_timeout: 180
        boot_command: tftpboot 0x84000000 openwrt-ipq40xx-generic-glinet_gl-b1300-squashfs-sysupgrade.bin && sf probe && sf erase 0x180000 0x1e80000 && sf write 0x84000000 0x180000 $filesize && bootipq
      UBootStrategy: {}

  prpl-haze-initramfs:
    resources:
      ModbusTCPCoil:
        host: quido.testbed-02.vpn.true.cz
        coil: 4
        managed_coils: 8
        exclusive_coil_mode: True
        write_multiple_coils: True
      RawSerialPort:
        port: "/dev/prpl-haze"
    drivers:
      ModbusCoilDriver: {}
      DigitalOutputPowerDriver: {}
      SerialDriver: {}
      ShellDriver:
        console_ready: Please press Enter to activate this console.
        prompt: 'root@[\w()]+:[^ ]+ '
        login_prompt: built-in shell (ash)
        await_login_timeout: 16
        username: kingbanik
      UBootDriver:
        prompt: 'IPQ807x# '
        init_commands:
          - setenv serverip 10.0.0.1
          - setenv ipaddr 10.0.0.2
        boot_command: tftpboot openwrt-ipq807x-generic-prpl_haze-initramfs-uImage.itb && bootm
        boot_command_delay: 3
      UBootStrategy: {}

  urx851-b0-dk-pon-emmc:
    resources:
      ModbusTCPCoil:
        host: quido.testbed-02.vpn.true.cz
        coil: 2
        managed_coils: 8
        write_multiple_coils: True
        exclusive_coil_mode: True
      RawSerialPort:
        port: "/dev/urx851-b0-dk"
    drivers:
      ModbusCoilDriver: {}
      DigitalOutputPowerDriver: {}
      SerialDriver:
        txdelay: 0.01
      ShellDriver:
        console_ready: Please press Enter to activate this console.
        prompt: 'root@[\w()]+:[^ ]+ '
        login_prompt: built-in shell (ash)
        username: kingbanik
      UBootDriver:
        prompt: 'Lightning #'
        console_decodeerrors: 'backslashreplace'
        init_command_timeout: 90
        init_commands:
          - setenv serverip 192.168.1.2
          - setenv ipaddr 192.168.1.1
          - setenv fullimage openwrt-intel_x86-lgm-LGM_PRPL-lgp_b0_pon_fullimage.img
          - mmc dev 0 && mmc erase c6800 10000 && mmc erase d6800 10000 && run update_fullimage
      UBootStrategy: {}
